<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="com.up_vams.school.dao.SchoolMapper">
  <resultMap id="SchoolResultMap" type="School">
    <id column="school_id" property="schoolId" jdbcType="VARCHAR"/>
    <result column="name" property="name" jdbcType="VARCHAR"/>
    <result column="page_view" property="pageView" jdbcType="INTEGER"/>
    <result column="active_index" property="activeIndex" jdbcType="INTEGER"/>
    <result column="photo_count" property="photoCount" jdbcType="INTEGER"/>
    <result column="racking" property="racking" jdbcType="INTEGER"/>
    <result column="pinyin" property="pinyin" jdbcType="VARCHAR"/>
    <result column="pinyin_header" property="pinyinHeader" jdbcType="VARCHAR"/>
  </resultMap>
  <resultMap id="SchoolResultMapWithBLOBs" type="School" extends="SchoolResultMap">
    <result column="introduction" property="introduction" jdbcType="LONGVARCHAR"/>
  </resultMap>

  <insert id="insert" parameterType="School">
    <selectKey resultType="string" order="BEFORE" keyProperty="schoolId">
      SELECT REPLACE(UUID(),'-','')
    </selectKey>
    INSERT INTO t_school (school_id, name, pinyin, pinyin_header, introduction
      )
    VALUES (#{schoolId,jdbcType=VARCHAR}, #{name,jdbcType=VARCHAR}, #{pinyin,jdbcType=VARCHAR}, #{pinyinHeader,jdbcType=VARCHAR}, #{introduction,jdbcType=LONGVARCHAR}
      )
  </insert>
</mapper>